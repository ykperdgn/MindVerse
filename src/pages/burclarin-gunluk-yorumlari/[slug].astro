---
export const prerender = true;

export async function getStaticPaths() {
  const signs = [
    { slug: 'koc', name: 'KoÃ§', element: 'ateÅŸ', dates: '21 Mart - 19 Nisan', emoji: 'â™ˆ', color: 'red' },
    { slug: 'boga', name: 'BoÄŸa', element: 'toprak', dates: '20 Nisan - 20 MayÄ±s', emoji: 'â™‰', color: 'green' },
    { slug: 'ikizler', name: 'Ä°kizler', element: 'hava', dates: '21 MayÄ±s - 20 Haziran', emoji: 'â™Š', color: 'yellow' },
    { slug: 'yengec', name: 'YengeÃ§', element: 'su', dates: '21 Haziran - 22 Temmuz', emoji: 'â™‹', color: 'blue' },
    { slug: 'aslan', name: 'Aslan', element: 'ateÅŸ', dates: '23 Temmuz - 22 AÄŸustos', emoji: 'â™Œ', color: 'orange' },
    { slug: 'basak', name: 'BaÅŸak', element: 'toprak', dates: '23 AÄŸustos - 22 EylÃ¼l', emoji: 'â™', color: 'brown' },
    { slug: 'terazi', name: 'Terazi', element: 'hava', dates: '23 EylÃ¼l - 22 Ekim', emoji: 'â™', color: 'pink' },
    { slug: 'akrep', name: 'Akrep', element: 'su', dates: '23 Ekim - 21 KasÄ±m', emoji: 'â™', color: 'purple' },
    { slug: 'yay', name: 'Yay', element: 'ateÅŸ', dates: '22 KasÄ±m - 21 AralÄ±k', emoji: 'â™', color: 'indigo' },
    { slug: 'oglak', name: 'OÄŸlak', element: 'toprak', dates: '22 AralÄ±k - 19 Ocak', emoji: 'â™‘', color: 'gray' },
    { slug: 'kova', name: 'Kova', element: 'hava', dates: '20 Ocak - 18 Åubat', emoji: 'â™’', color: 'cyan' },
    { slug: 'balik', name: 'BalÄ±k', element: 'su', dates: '19 Åubat - 20 Mart', emoji: 'â™“', color: 'teal' }
  ];

  return signs.map((sign) => ({
    params: { slug: sign.slug },
    props: { sign }
  }));
}

const { sign } = Astro.props;

import Layout from '../../components/Layout.astro';
import { getCollection } from 'astro:content';

// Get today's horoscope for this sign
const today = new Date().toISOString().split('T')[0];
const allHoroscopes = await getCollection('astrology');

// Look for today's horoscope
let todayHoroscope = allHoroscopes.find(post =>
  post.slug.includes(`${sign.slug}-gunluk-${today}`) ||
  post.slug.includes(`${sign.slug}-gunluk`) ||
  post.slug.includes(sign.slug)
);

// If no specific horoscope found, get the latest one for this sign
if (!todayHoroscope) {
  const signHoroscopes = allHoroscopes
    .filter(post => post.slug.includes(sign.slug) && post.slug.includes('gunluk'))
    .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate));

  todayHoroscope = signHoroscopes[0];
}

const colorClasses = {
  red: 'from-red-500 to-pink-500',
  green: 'from-green-500 to-emerald-500',
  yellow: 'from-yellow-500 to-orange-500',
  blue: 'from-blue-500 to-cyan-500',
  orange: 'from-orange-500 to-red-500',
  brown: 'from-amber-600 to-orange-600',
  pink: 'from-pink-500 to-rose-500',
  purple: 'from-purple-500 to-indigo-500',
  indigo: 'from-indigo-500 to-purple-500',
  gray: 'from-gray-600 to-slate-600',
  cyan: 'from-cyan-500 to-blue-500',
  teal: 'from-teal-500 to-cyan-500'
};
---

<Layout
  title={`${sign.name} Burcu GÃ¼nlÃ¼k Yorumu`}
  description={`${sign.name} burcu iÃ§in gÃ¼nlÃ¼k astroloji yorumu. AÅŸk, kariyer, saÄŸlÄ±k ve genel yaÅŸam rehberliÄŸi.`}
>
  <main class="min-h-screen pt-20">
    <!-- Hero Section -->
    <div class={`bg-gradient-to-br ${colorClasses[sign.color]} text-white py-16`}>
      <div class="container mx-auto px-4 text-center">
        <div class="text-8xl mb-4">{sign.emoji}</div>
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
          {sign.name} Burcu GÃ¼nlÃ¼k Yorumu
        </h1>
        <p class="text-xl mb-2">{sign.dates}</p>
        <p class="text-lg opacity-90">Element: {sign.element.charAt(0).toUpperCase() + sign.element.slice(1)}</p>
      </div>
    </div>

    <div class="container mx-auto px-4 py-12">
      <div class="max-w-4xl mx-auto">
        <!-- Today's Horoscope Content -->
        {todayHoroscope ? (
          <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
            <div class="p-8">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-800">BugÃ¼nÃ¼n Yorumu</h2>
                <span class="text-sm text-gray-500">
                  {new Date().toLocaleDateString('tr-TR')}
                </span>
              </div>

              <div class="prose max-w-none">
                <div set:html={todayHoroscope.body} />
              </div>
            </div>
          </div>
        ) : (
          <!-- Default horoscope content if no specific content found -->
          <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
            <div class="p-8">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-800">BugÃ¼nÃ¼n Yorumu</h2>
                <span class="text-sm text-gray-500">
                  {new Date().toLocaleDateString('tr-TR')}
                </span>
              </div>

              <div class="space-y-6">
                <div class="p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl">
                  <h3 class="text-lg font-semibold text-purple-800 mb-3 flex items-center">
                    <span class="text-2xl mr-2">ğŸŒŸ</span>
                    Genel Durum
                  </h3>
                  <p class="text-gray-700">
                    {sign.name} burcu iÃ§in bugÃ¼n Ã¶nemli geliÅŸmelerin yaÅŸanacaÄŸÄ± bir gÃ¼n.
                    Enerjiniz yÃ¼ksek ve motivasyonunuz tam. KarÅŸÄ±nÄ±za Ã§Ä±kacak fÄ±rsatlarÄ± deÄŸerlendirmeyi unutmayÄ±n.
                  </p>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                  <div class="p-6 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl">
                    <h3 class="text-lg font-semibold text-red-800 mb-3 flex items-center">
                      <span class="text-2xl mr-2">ğŸ’•</span>
                      AÅŸk & Ä°liÅŸkiler
                    </h3>
                    <p class="text-gray-700">
                      Duygusal anlamda dengeleyici bir gÃ¼n. Ä°liÅŸkilerinizde samimi diyaloglar kurmaya odaklanÄ±n.
                    </p>
                  </div>

                  <div class="p-6 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl">
                    <h3 class="text-lg font-semibold text-blue-800 mb-3 flex items-center">
                      <span class="text-2xl mr-2">ğŸ’¼</span>
                      Kariyer & Ä°ÅŸ
                    </h3>
                    <p class="text-gray-700">
                      Profesyonel hayatÄ±nÄ±zda yeni kapÄ±lar aÃ§Ä±labilir. YaratÄ±cÄ± fikirlerinizi paylaÅŸmaktan Ã§ekinmeyin.
                    </p>
                  </div>
                </div>

                <div class="p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl">
                  <h3 class="text-lg font-semibold text-green-800 mb-3 flex items-center">
                    <span class="text-2xl mr-2">ğŸƒâ€â™€ï¸</span>
                    SaÄŸlÄ±k & Enerji
                  </h3>
                  <p class="text-gray-700">
                    Fiziksel ve mental enerjiniz dengelenmekte. DÃ¼zenli uyku ve beslenmeye dikkat edin.
                  </p>
                </div>
              </div>
            </div>
          </div>
        )}

        <!-- Navigation to other signs -->
        <div class="mt-12">
          <h3 class="text-2xl font-bold text-center mb-8">DiÄŸer BurÃ§ YorumlarÄ±</h3>
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
            {[
              { slug: 'koc', name: 'KoÃ§', emoji: 'â™ˆ', color: 'red' },
              { slug: 'boga', name: 'BoÄŸa', emoji: 'â™‰', color: 'green' },
              { slug: 'ikizler', name: 'Ä°kizler', emoji: 'â™Š', color: 'yellow' },
              { slug: 'yengec', name: 'YengeÃ§', emoji: 'â™‹', color: 'blue' },
              { slug: 'aslan', name: 'Aslan', emoji: 'â™Œ', color: 'orange' },
              { slug: 'basak', name: 'BaÅŸak', emoji: 'â™', color: 'brown' },
              { slug: 'terazi', name: 'Terazi', emoji: 'â™', color: 'pink' },
              { slug: 'akrep', name: 'Akrep', emoji: 'â™', color: 'purple' },
              { slug: 'yay', name: 'Yay', emoji: 'â™', color: 'indigo' },
              { slug: 'oglak', name: 'OÄŸlak', emoji: 'â™‘', color: 'gray' },
              { slug: 'kova', name: 'Kova', emoji: 'â™’', color: 'cyan' },
              { slug: 'balik', name: 'BalÄ±k', emoji: 'â™“', color: 'teal' }
            ].map((otherSign) => (
              <a
                href={`/burclarin-gunluk-yorumlari/${otherSign.slug}`}
                class={`group p-4 rounded-xl text-center transition-all transform hover:scale-105 ${
                  sign.slug === otherSign.slug
                    ? `bg-gradient-to-br ${colorClasses[otherSign.color]} text-white shadow-lg`
                    : 'bg-white hover:shadow-lg border border-gray-200'
                }`}
              >
                <div class={`text-3xl mb-2 group-hover:scale-110 transition-transform`}>
                  {otherSign.emoji}
                </div>
                <h4 class={`font-semibold ${sign.slug === otherSign.slug ? 'text-white' : 'text-gray-800'}`}>
                  {otherSign.name}
                </h4>
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>
